{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const fetchRequest = value => {\n  const fetchParams = new URLSearchParams({\n    key: '46731058-8e313f89df23f954200132c0b',\n    q: value,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  return fetch(`https://pixabay.com/api/?${fetchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Something went wrong');\n      }\n      return response.json();\n    })\n    .then(obj => {\n      if (!obj.hits.length) {\n        throw new Error(\n          'Sorry, there are no images matching your search query. Please, try again'\n        );\n      }\n      return obj;\n    });\n};\nexport default fetchRequest;\n","const drawMarkup = data => {\n  return data\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => {\n        return `\n    <li class=\"general-list-item\" >\n        <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n        <div>\n            <p class=\"general-list-item-p\" ><b>Likes</b><span>${likes}</span></p>\n            <p class=\"general-list-item-p\" ><b>Views</b><span>${views}</span></p>\n            <p class=\"general-list-item-p\" ><b>Comments</b><span>${comments}</span></p>\n            <p class=\"general-list-item-p\" ><b>Downloads</b><span>${downloads}</span></p>\n        </div>\n    </li>\n    `;\n      }\n    )\n    .join('');\n};\nexport default drawMarkup;\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport fetchRequest from './js/pixabay-api';\nimport drawMarkup from './js/render-functions';\n\nconst searchForm = document.forms.searchForm;\nconst inp = searchForm.elements.input;\nconst submitBtn = searchForm.elements.submitButton;\nconst outputList = document.querySelector('.general-list');\n\nsubmitBtn.addEventListener('click', e => {\n  e.preventDefault();\n  const inpVal = e.target.parentElement.elements.input.value.trim();\n  if (!inpVal) {\n    return;\n  }\n  outputList.innerHTML = '<span class=\"loader\"></span>';\n  submitBtn.disabled = true;\n\n  const photosArr = fetchRequest(inpVal)\n    .then(({ hits }) => {\n      outputList.innerHTML = drawMarkup(hits);\n    })\n    .catch(error => {\n      iziToast.error({\n        message: error.message,\n        position: 'topRight',\n      });\n      outputList.innerHTML = '';\n    })\n    .finally(() => {\n      submitBtn.disabled = false;\n      lightboxGallery.refresh();\n    });\n  });\n  const lightboxGallery = new SimpleLightbox('.general-list a', {\n    captionsData: \"alt\",\n    captionDelay: 250,\n  });"],"names":["fetchRequest","value","fetchParams","response","obj","drawMarkup","data","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","submitBtn","outputList","e","inpVal","hits","error","iziToast","lightboxGallery","SimpleLightbox"],"mappings":"6vBAAA,MAAMA,EAAeC,GAAS,CAC5B,MAAMC,EAAc,IAAI,gBAAgB,CACtC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAO,MAAM,4BAA4BC,CAAW,EAAE,EACnD,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,sBAAsB,EAExC,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAO,CACX,GAAI,CAACA,EAAI,KAAK,OACZ,MAAM,IAAI,MACR,0EACV,EAEM,OAAOA,CACb,CAAK,CACL,ECvBMC,EAAaC,GACVA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IACe;AAAA;AAAA,mBAEIL,CAAa,eAAeD,CAAY,UAAUE,CAAI;AAAA;AAAA,gEAETC,CAAK;AAAA,gEACLC,CAAK;AAAA,mEACFC,CAAQ;AAAA,oEACPC,CAAS;AAAA;AAAA;AAAA,KAKxE,EACA,KAAK,EAAE,EClBNC,EAAa,SAAS,MAAM,WACtBA,EAAW,SAAS,MAChC,MAAMC,EAAYD,EAAW,SAAS,aAChCE,EAAa,SAAS,cAAc,eAAe,EAEzDD,EAAU,iBAAiB,QAASE,GAAK,CACvCA,EAAE,eAAc,EAChB,MAAMC,EAASD,EAAE,OAAO,cAAc,SAAS,MAAM,MAAM,OACtDC,IAGLF,EAAW,UAAY,+BACvBD,EAAU,SAAW,GAEHf,EAAakB,CAAM,EAClC,KAAK,CAAC,CAAE,KAAAC,KAAW,CAClBH,EAAW,UAAYX,EAAWc,CAAI,CAC5C,CAAK,EACA,MAAMC,GAAS,CACdC,EAAS,MAAM,CACb,QAASD,EAAM,QACf,SAAU,UAClB,CAAO,EACDJ,EAAW,UAAY,EAC7B,CAAK,EACA,QAAQ,IAAM,CACbD,EAAU,SAAW,GACrBO,EAAgB,QAAO,CAC7B,CAAK,EACL,CAAG,EACD,MAAMA,EAAkB,IAAIC,EAAe,kBAAmB,CAC5D,aAAc,MACd,aAAc,GAClB,CAAG"}